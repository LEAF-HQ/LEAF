<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Installation - LEAF</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">LEAF</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Installation</a>
                    </li>
                
                
                
                    <li >
                        <a href="../quickstart/">Quickstart</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Packages <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../packages/generator/">Generator</a>
</li>

                        
                            
<li >
    <a href="../packages/tuplizer/">Tuplizer</a>
</li>

                        
                            
<li >
    <a href="../packages/analyzer/">Analyzer</a>
</li>

                        
                            
<li >
    <a href="../packages/plotter/">Plotter</a>
</li>

                        
                            
<li >
    <a href="../packages/submitter/">Submitter</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="..">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../quickstart/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#installation">Installation</a></li>
            <li class="second-level"><a href="#getting-the-code-once">Getting the code (once)</a></li>
                
            <li class="second-level"><a href="#setup-every-time">Setup (every time)</a></li>
                
            <li class="second-level"><a href="#setting-up-a-new-analysis-once">Setting up a new analysis (once)</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="installation">Installation</h1>
<h2 id="getting-the-code-once">Getting the code (once)</h2>
<p>Getting the LEAF code is easy, there is a script that takes care of everything for you. It will set up LEAF and a CMSSW version in the directory the script is executed from. You will need access to /cvmfs in order for the compilation to work. The latest tag that has been tested extensively is used.</p>
<p>After downloading the code and checking out the necessary repositories, most notably the <code>JECDatabase</code>, <code>JRDatabase</code>, and <code>Combine</code>, some packages of LEAF will be compiled to generate all executables used in the various steps of a data analysis. This is all done automatically, so nothing to worry about. The following snippet will install LEAF and several versions of <code>CMSSW</code> in the folder the snippet below is executed from. It will reuse existing installations of <code>CMSSW</code> of the correct versions, if there are any. Make sure to run in a clean shell. To start from the latest tagged version, do:</p>
<pre><code class="bash">wget https://raw.githubusercontent.com/LEAF-HQ/LEAF/v1.0/get_leaf.sh
source get_leaf.sh   
</code></pre>

<p>For using the master branch with all the latest improvements and developments, instead do:</p>
<pre><code class="bash">wget https://raw.githubusercontent.com/LEAF-HQ/LEAF/master/get_leaf.sh
source get_leaf.sh   
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should now close the current shell and continue in a fresh one.</p>
</div>
<p>At this point, LEAF is fully functional and all its packages can be used. You should now close this shell and start again in a fresh one. If it is intended to perform a usual data analysis, it is necessary to set up a new analysis skeleton, which can be modified and extended according to each user's needs and wishes. Simply follow the remaining steps on this page.</p>
<h2 id="setup-every-time">Setup (every time)</h2>
<p>Each package of LEAF can be used more or less standalone, even though there are some interconnections between the packages. To set up LEAF in a fresh shell, simply <code>cd</code> into your LEAF folder and source the setup script:</p>
<pre><code class="bash">cd &lt;PATH/TO/LEAF&gt;
source setup.sh
</code></pre>

<h2 id="setting-up-a-new-analysis-once">Setting up a new analysis (once)</h2>
<p>There is a handy macro that creates all structures needed for a new analysis and integrates it into the LEAF compilation workflow. All that needs to be done (in an environment where LEAF has already been <a href="#setup-(every-time)">set up</a>) is</p>
<pre><code class="bash">cd $LEAFPATH
./createNewAnalysis.py &lt;NewAnalysisName&gt;
cd Analyzer
make clean
make -j
</code></pre>

<p>This will create all necessary files and folders for the new analysis to be compiled and linked automatically when comiling the Analyzer package. See the <a href="../packages/analyzer/">Analyzer documentation</a> for details. The new folder will be created in <code>$LEAFPATH</code>. It is advisable to choose a concise name for <code>&lt;NewAnalysisName&gt;</code>, it will be typed frequently. Also make sure the first few letters are convenient to type.</p>
<p>If you are new to LEAF, you can follow the <a href="../quickstart/">quickstart guide</a> to run a small, self-contained test analysis, introducing some essential features. If you already know what you are doing, you are all set. Detailed information can be found in the documentation of each LEAF package, which is linked from the top navigation bar and from the <a href="..">homepage</a>.</p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
